<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>WASM Canvas â€” Shapes</title>
        <script type="module">
            import init, * as wasm from "./pkg/pixelsweeper.js";
            async function run() {
                await init();
                window.wasm = wasm;
            }
            run();
        </script>
    </head>
    <body>
        <div class="controls">
            <button onclick="wasm.new_game();">New Game</button>
            <button id="safe-mode" onclick="wasm.toggle_safe_mode();">
                Safe Mode: on
            </button>
            <button onclick="wasm.spawn_detector();">Spawn Detector</button>
            <button onclick="wasm.despawn_detector();">Remove Detector</button>
        </div>

        <canvas id="canvas" style="height: 100%"></canvas>

        <div id="score"></div>
        <div>
            <p>Made with rust</p>
            <img src="https://publico.rbran.com/img/rust2.svg" width="50px" height="50px"/>
        </div>
    </body>
</html>
